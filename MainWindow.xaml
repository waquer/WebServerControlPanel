<Window x:Name="MainForm" x:Class="WebServerControlPanel.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" Title="Web Server Control Panel" Height="360" Width="400"
        Topmost="True" ResizeMode="CanMinimize" Background="WhiteSmoke"
        Icon="Resources/application.ico" StateChanged="MainForm_StateChanged">
    <Grid x:Name="MainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="160" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <DataGrid x:Name="ServicesDataGrid" Grid.Row="0" d:ItemsSource="{d:SampleData ItemCount=5}"
                  AutoGenerateColumns="False" IsReadOnly="True" SelectionMode="Single"
                  CanUserAddRows="False" CanUserDeleteRows="False" BorderThickness="0"
                  HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray"
                  PreviewMouseRightButtonDown="ServicesDataGrid_PreviewMouseRightButtonDown">
            <DataGrid.ContextMenu>
                <ContextMenu x:Name="ServiceContextMenu">
                    <MenuItem Header="添加" Click="ServiceAdd_Click" />
                    <Separator />
                    <MenuItem Header="上移" Click="ServiceUp_Click" x:Name="ServiceUpMenu" />
                    <MenuItem Header="下移" Click="ServiceDown_Click" x:Name="ServiceDownMenu" />
                    <Separator />
                    <MenuItem Header="删除" Click="ServiceDel_Click" />
                </ContextMenu>
            </DataGrid.ContextMenu>
            <DataGrid.Resources>
                <Style x:Key="CenteredTextBlockStyle" TargetType="{x:Type TextBlock}">
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Setter Property="Foreground" Value="#333333" />
                    <Setter Property="FontSize" Value="13" />
                    <Setter Property="Margin" Value="5" />
                    <Style.Triggers>
                        <Trigger Property="Text" Value="Stopped">
                            <Setter Property="Foreground" Value="Red"></Setter>
                        </Trigger>
                        <Trigger Property="Text" Value="Running">
                            <Setter Property="Foreground" Value="Green"></Setter>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.Resources>
            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                </Style>
            </DataGrid.ColumnHeaderStyle>
            <DataGrid.CellStyle>
                <Style TargetType="DataGridCell">
                    <Setter Property="Background" Value="White" />
                    <Setter Property="BorderThickness" Value="0" />
                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="LightYellow" />
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.CellStyle>
            <DataGrid.Columns>
                <DataGridTextColumn Header="名称" Width="*" Binding="{Binding DisplayName, Mode=OneWay}"
                                    ElementStyle="{StaticResource CenteredTextBlockStyle}" />
                <DataGridTextColumn Header="状态" Width="80" Binding="{Binding StatusName, Mode=OneWay}"
                                    ElementStyle="{StaticResource CenteredTextBlockStyle}" />
                <DataGridTemplateColumn Header="操作" Width="70">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="{Binding ActionName}" Margin="5" Padding="4,2,4,2"
                                    Tag="{Binding}" IsEnabled="{Binding IsEnabled}"
                                    VerticalAlignment="Center" Click="ServiceAction_Click" />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
        <TextBox x:Name="NotifyText" Margin="5" Grid.Row="1" TextWrapping="Wrap" Text="" IsReadOnly="True" />
    </Grid>
</Window>