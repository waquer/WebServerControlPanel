<Window x:Name="MainForm" x:Class="WebServerControlPanel.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" Background="WhiteSmoke"
        Title="Web Server Control Panel" Height="360" Width="400" Topmost="True" ResizeMode="CanMinimize"
        Icon="Resources/application.ico" StateChanged="MainForm_StateChanged">
    <Grid x:Name="MainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="44" />
            <RowDefinition Height="160" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid x:Name="SettingGrid" Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="80" />
            </Grid.ColumnDefinitions>
            <TextBox x:Name="ServiceNameText" Grid.Column="0" Margin="10,10,0,0" VerticalAlignment="Top"
                             Height="24" VerticalContentAlignment="Center" />
            <Button x:Name="ServiceAdd" Grid.Column="1" Content="Add" HorizontalAlignment="Center"
                            Margin="0,10,0,0" VerticalAlignment="Top" Width="60" Height="24" Click="ServiceAdd_Click" />
        </Grid>
        <DataGrid x:Name="ServicesDataGrid" Grid.Row="1" d:ItemsSource="{d:SampleData ItemCount=5}"
                          AutoGenerateColumns="False" IsReadOnly="True" SelectionMode="Single"
                          CanUserAddRows="False" CanUserDeleteRows="False"
                          PreviewMouseRightButtonDown="ServicesDataGrid_PreviewMouseRightButtonDown">
            <DataGrid.ContextMenu>
                <ContextMenu x:Name="ServiceContextMenu">
                    <MenuItem Header="上移" Click="ServiceUp_Click" x:Name="ServiceUpMenu"/>
                    <MenuItem Header="下移" Click="ServiceDown_Click" x:Name="ServiceDownMenu"/>
                    <Separator/>
                    <MenuItem Header="从列表中删除" Click="ServiceDel_Click"/>
                </ContextMenu>
            </DataGrid.ContextMenu>
            <DataGrid.Resources>
                <Style x:Key="CenteredTextBlockStyle" TargetType="{x:Type TextBlock}">
                    <Setter Property="VerticalAlignment" Value="Center"/>
                    <Setter Property="FontSize" Value="13" />
                    <Setter Property="Margin" Value="5"/>
                </Style>
            </DataGrid.Resources>
            <DataGrid.Columns>
                <DataGridTemplateColumn>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <CheckBox Tag="{Binding ID}" VerticalAlignment="Center" Margin="5"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTextColumn Header="名称" Width="80" Binding="{Binding DisplayName, Mode=OneWay}"
                                            ElementStyle="{StaticResource CenteredTextBlockStyle}"/>
                <DataGridTextColumn Header="状态" Width="*" Binding="{Binding StatusName, Mode=OneWay}"
                                            ElementStyle="{StaticResource CenteredTextBlockStyle}"/>
                <DataGridTemplateColumn Header="操作" Width="70">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="{Binding ActionName}" Margin="5" Padding="4,2,4,2" VerticalAlignment="Center"
                                            Click="ServiceAction_Click" Tag="{Binding}" />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
        <TextBox x:Name="NotifyText" Margin="5" Grid.Row="2" TextWrapping="Wrap" Text="" IsReadOnly="True" />
    </Grid>
</Window>